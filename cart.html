<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cart ‚Äì NexLap</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'DM Sans', sans-serif; background: #F4F3F2; }
    nav { background: #fff; width: 100%; height: 68px; display: flex; align-items: center; justify-content: space-between; padding: 0 32px; box-shadow: 0 1px 12px rgba(0,0,0,0.07); position: relative; }
    .logo { display: flex; align-items: center; gap: 10px; text-decoration: none; z-index: 1; }
    .logo-icon { width: 38px; height: 38px; }
    .logo-text { font-family: 'Bebas Neue', sans-serif; font-size: 22px; letter-spacing: 2px; color: #111; }
    .nav-center { position: absolute; left: 50%; transform: translateX(-50%); display: flex; align-items: center; gap: 28px; }
    .nav-center a { font-size: 17px; font-weight: 600; color: #111; letter-spacing: 0.5px; text-decoration: none; transition: color 0.2s; }
    .nav-center a:hover { color: #00A1F4; }
    .nav-right { z-index: 1; }
    .cart-btn { background: #111; color: #fff; padding: 8px 20px; border-radius: 999px; font-size: 13px; font-weight: 600; text-decoration: none; }
    .page { max-width: 900px; margin: 40px auto; padding: 0 20px; }
    .page-title { font-size: 26px; font-weight: 700; color: #111; margin-bottom: 24px; }
    .cart-table { width: 100%; background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 2px 12px rgba(0,0,0,0.06); }
    .cart-header { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; padding: 14px 24px; background: #f9f9f9; border-bottom: 1px solid #eee; font-size: 13px; font-weight: 600; color: #888; text-transform: uppercase; letter-spacing: 0.5px; }
    .cart-item { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; align-items: center; padding: 16px 24px; border-bottom: 1px solid #f0f0f0; }
    .cart-item:last-child { border-bottom: none; }
    .product-cell { display: flex; align-items: center; gap: 14px; }
    .product-cell img { width: 100px; height: 80px; object-fit: contain; border-radius: 8px; background: #F4F3F2; padding: 4px; }
    .product-name { font-size: 14px; font-weight: 600; color: #111; }
    .qty-control { display: flex; align-items: center; gap: 10px; }
    .qty-btn { width: 28px; height: 28px; border-radius: 50%; border: 1.5px solid #ddd; background: #fff; font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: #333; transition: border-color 0.2s, background 0.2s; }
    .qty-btn:hover { border-color: #00A1F4; background: #e8f6ff; color: #00A1F4; }
    .qty-num { font-size: 15px; font-weight: 600; color: #111; width: 48px; text-align: center; border: 1.5px solid #ddd; border-radius: 8px; padding: 4px 6px; outline: none; font-family: 'DM Sans', sans-serif; -moz-appearance: textfield; }
    .qty-num:focus { border-color: #00A1F4; }
    .qty-num::-webkit-inner-spin-button, .qty-num::-webkit-outer-spin-button { -webkit-appearance: none; }
    .price-cell { font-size: 15px; font-weight: 600; color: #111; }
    .remove-btn { background: none; border: none; cursor: pointer; color: #bbb; font-size: 20px; transition: color 0.2s; justify-self: center; }
    .remove-btn:hover { color: #e74c3c; }
    .summary { background: #fff; border-radius: 16px; padding: 24px; margin-top: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.06); display: flex; justify-content: flex-end; align-items: center; gap: 40px; }
    .summary-total { font-size: 18px; font-weight: 700; color: #111; }
    .summary-total span { color: #00A1F4; }
    .checkout-btn { background: #00A1F4; color: #fff; border: none; padding: 12px 32px; border-radius: 14px; font-size: 15px; font-weight: 600; cursor: pointer; font-family: 'DM Sans', sans-serif; transition: background 0.2s; }
    .checkout-btn:hover { background: #006EF5; }
    .go-mac-btn { display: inline-block; background: #111; color: #fff; padding: 12px 32px; border-radius: 14px; font-size: 15px; font-weight: 600; text-decoration: none; transition: background 0.2s, box-shadow 0.2s; }
    .go-mac-btn:hover { background: #333; }
    [data-theme="dark"] .go-mac-btn { background: #00A1F4 !important; color: #fff !important; box-shadow: 0 4px 18px rgba(0,161,244,0.35) !important; }
    [data-theme="dark"] .go-mac-btn:hover { background: #006EF5 !important; box-shadow: 0 6px 24px rgba(0,110,245,0.5) !important; }
    .empty-msg { text-align: center; padding: 60px 0; color: #aaa; font-size: 16px; }
    .empty-msg a { color: #00A1F4; text-decoration: none; font-weight: 600; }

    /* ‚îÄ‚îÄ Dark Mode overrides (light pages) ‚îÄ‚îÄ */
    [data-theme="dark"] body { background: #121212 !important; color: #e0e0e0 !important; }
    [data-theme="dark"] nav { background: #1a1a1a !important; box-shadow: 0 1px 12px rgba(0,0,0,0.4) !important; }
    [data-theme="dark"] .logo-text { color: #fff !important; }
    [data-theme="dark"] .nav-center a { color: #ccc !important; }
    [data-theme="dark"] .nav-center a:hover { color: #00A1F4 !important; }
    [data-theme="dark"] .nav-right .cart-btn { background: #fff !important; color: #111 !important; }
    [data-theme="dark"] .text-section { background: #121212 !important; }
    [data-theme="dark"] .text-section a { color: #ccc !important; }
    [data-theme="dark"] .product-box { background: #1e1e1e !important; box-shadow: 0 2px 12px rgba(0,0,0,0.4) !important; }
    [data-theme="dark"] .product-desc { color: #aaa !important; }
    [data-theme="dark"] .product-name { color: #fff !important; }
    [data-theme="dark"] .products-section { background: #121212; }
    [data-theme="dark"] .banner { filter: brightness(0.85); }
    [data-theme="dark"] footer { background: #0a0a0a !important; }
    [data-theme="dark"] .footer-heading { color: #fff !important; }
    [data-theme="dark"] .footer-content { color: #aaa !important; }
    /* cart page dark */
    [data-theme="dark"] .page-title { color: #fff !important; }
    [data-theme="dark"] .cart-table { background: #1e1e1e !important; }
    [data-theme="dark"] .cart-header { background: #2a2a2a !important; border-bottom-color: #333 !important; }
    [data-theme="dark"] .cart-item { border-bottom-color: #2a2a2a !important; }
    [data-theme="dark"] .product-cell img { background: #2a2a2a !important; }
    [data-theme="dark"] .product-name { color: #fff !important; }
    [data-theme="dark"] .price-cell { color: #fff !important; }
    [data-theme="dark"] .qty-num { background: #1e1e1e !important; color: #fff !important; border-color: #444 !important; }
    [data-theme="dark"] .qty-btn { background: #1e1e1e !important; color: #ccc !important; border-color: #444 !important; }
    [data-theme="dark"] .summary { background: #1e1e1e !important; }
    [data-theme="dark"] .summary-total { color: #fff !important; }
    [data-theme="dark"] .page { background: #121212; }
    [data-theme="dark"] .empty-msg { color: #666 !important; }

    /* ‚îÄ‚îÄ Theme Toggle Button ‚îÄ‚îÄ */
    #theme-toggle {
      position: fixed;
      bottom: 28px;
      right: 28px;
      width: 52px;
      height: 52px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 22px;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      transition: transform 0.2s, box-shadow 0.2s;
      background: #fff;
      color: #111;
    }
    [data-theme="dark"] #theme-toggle {
      background: #222;
      color: #fff;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    #theme-toggle:hover { transform: scale(1.12); box-shadow: 0 6px 24px rgba(0,0,0,0.3); }
  </style>
</head>
<body>

  <nav>
    <a href="'index.html" class="logo">
      <svg class="logo-icon" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="38" height="38" rx="10" fill="#111"/>
        <path d="M19 8 C13 8 10 13 10 19 C10 25 13 30 19 30 C22 30 24 28 25 26 C26 28 27 30 30 30 L27 24 C28 22 28 20 28 19 C28 13 25 8 19 8Z" fill="white"/>
        <circle cx="16" cy="18" r="2.2" fill="#111"/>
        <circle cx="22" cy="18" r="2.2" fill="#111"/>
      </svg>
      <span class="logo-text">NEXLAP</span>
    </a>
    <div class="nav-center">
      <a href="index.html">Mac</a>
      <a href="ipad.html">iPad</a>
      <a href="iphone.html">iPhone</a>
      <a href="Watch.html">Watch</a>
    </div>
    <div class="nav-right">
      <a href="cart.html" class="cart-btn">Cart</a>
    </div>
  </nav>

  <div class="page">
    <h1 class="page-title">Your Cart</h1>

    <div class="cart-table">
      <div class="cart-header">
        <span>Product</span>
        <span>Quantity</span>
        <span>Price</span>
        <span style="text-align:center;">Remove</span>
      </div>
      <div id="cart-items"></div>
    </div>

    <div class="summary" id="summary" style="display:none;">
      <span class="summary-total">Total: <span id="total-price">$0</span></span>
      <button class="checkout-btn">Checkout</button>
    </div>

    <div style="margin-top: 16px;">
      <a href="index.html" class="go-mac-btn">Go To Shopping Page</a>
    </div>
  </div>

  <script>
    function getCart() {
      return JSON.parse(localStorage.getItem('nexlap-cart') || '[]');
    }

    function saveCart(cart) {
      localStorage.setItem('nexlap-cart', JSON.stringify(cart));
    }

    function renderCart() {
      const cart = getCart();
      const container = document.getElementById('cart-items');
      const summary = document.getElementById('summary');
      container.innerHTML = '';

      if (cart.length === 0) {
        container.innerHTML = '<div class="empty-msg">Your cart is empty. <a href="index.html">Continue shopping ‚Üí</a></div>';
        summary.style.display = 'none';
        return;
      }

      cart.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <div class="product-cell">
            <img src="${item.img}" alt="${item.name}">
            <span class="product-name">${item.name}</span>
          </div>
          <div class="qty-control">
            <button class="qty-btn" onclick="changeQty(${index}, -1)">‚àí</button>
            <input class="qty-num" type="number" value="${item.qty}" min="1" oninput="setQty(${index}, this.value)">
            <button class="qty-btn" onclick="changeQty(${index}, 1)">+</button>
          </div>
          <span class="price-cell">$${(item.price * item.qty).toLocaleString()}</span>
          <button class="remove-btn" onclick="removeItem(${index})">‚úï</button>
        `;
        container.appendChild(div);
      });

      summary.style.display = 'flex';
      updateTotal();
    }

    function changeQty(index, delta) {
      const cart = getCart();
      cart[index].qty = Math.max(1, cart[index].qty + delta);
      saveCart(cart);
      renderCart();
    }

    function setQty(index, val) {
      const qty = Math.max(1, parseInt(val) || 1);
      const cart = getCart();
      cart[index].qty = qty;
      saveCart(cart);
      updateTotal();
    }

    function removeItem(index) {
      const cart = getCart();
      cart.splice(index, 1);
      saveCart(cart);
      renderCart();
    }

    function updateTotal() {
      const cart = getCart();
      const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      document.getElementById('total-price').textContent = '$' + total.toLocaleString();
    }

    renderCart();
  </script>


  <!-- Theme Toggle -->
  <button id="theme-toggle" onclick="toggleTheme()" title="Toggle dark/light mode">
    <span id="theme-icon">üåô</span>
  </button>

  <script>
    (function() {
      const saved = localStorage.getItem('nexlap-theme') || 'light';
      document.documentElement.setAttribute('data-theme', saved);
      const icon = document.getElementById('theme-icon');
      if (icon) icon.textContent = saved === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    })();
    function toggleTheme() {
      const cur = document.documentElement.getAttribute('data-theme') || 'light';
      const next = cur === 'light' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('nexlap-theme', next);
      document.getElementById('theme-icon').textContent = next === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    }
  </script>

</body>
</html>
